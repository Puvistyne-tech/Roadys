<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/MyCountryPicker/index.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/MyCountryPicker/index.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, {useEffect, useState} from 'react';
import {PixelRatio, ScrollView, StyleSheet, Switch, Text, TextInput, TouchableOpacity, View} from 'react-native';
import CountryPicker, {DARK_THEME, DEFAULT_THEME} from 'react-native-country-picker-modal'
import * as lookup from "country-code-lookup";


/* A style sheet. */
const styles = StyleSheet.create({
    container: {
        // paddingVertical: 10,
        // justifyContent: 'center',
        // alignItems: 'center',
        borderStyle: 'solid',
        borderWidth: 2,
        borderRadius: 5,
        paddingVertical: 5,
        paddingLeft: 5,
        fontSize: 16,
        height: 40,
        color: "#e01811",
    },
    welcome: {
        fontSize: 18,
        textAlign: 'left',
        margin: 0,
    },
    instructions: {
        fontSize: 10,
        textAlign: 'center',
        color: '#888',
        marginBottom: 0,
    },
    data: {
        maxWidth: 250,
        padding: 10,
        marginTop: 7,
        backgroundColor: '#ddd',
        borderColor: '#888',
        borderWidth: 1 / PixelRatio.get(),
        color: '#777',
    },
})


const Option = ({value, onValueChange, title}) => (
    &lt;View>
        &lt;Text style={styles.instructions}>{title}&lt;/Text>
        &lt;Switch {...{value, onValueChange}} />
    &lt;/View>
)


/**
 * A custom component that renders a country picker.
 * @param props - ( value, onValueChange, title ) - the value is the country code, onValueChange is a function that takes the new country code as an argument.
 * @returns A component that renders a country picker.
 */
const MyCountryPicker = (props) => {
    const {label, selectedValue, onValueChange, items, onBlur, errors} = props

    const [countryCode, setCountryCode] = useState(lookup.byCountry(selectedValue)?.internet);
    const [country, setCountry] = useState(null)

    const [withCountryNameButton, setWithCountryNameButton] = useState(
        true,
    )
    const [withFlag, setWithFlag] = useState(true)
    const [withEmoji, setWithEmoji] = useState(true)
    const [withFilter, setWithFilter] = useState(true)
    const [withAlphaFilter, setWithAlphaFilter] = useState(true)
    const [withCallingCode, setWithCallingCode] = useState(false)
    const onSelect = (country) => {
        setCountryCode(country.cca2)
        setCountry(country)
        onValueChange(country.name)
    }

    useEffect(() => {
        setCountryCode(lookup.byCountry(selectedValue)?.internet)
    }, [selectedValue]);


    const [visible, setVisible] = useState(false);

    const switchVisible = () => setVisible(!visible)


    let withModal = true;
    let withFlagButton = true;
    return (
        &lt;View>
            &lt;ScrollView contentContainerStyle={props.style}>

                &lt;CountryPicker
                    theme={DEFAULT_THEME}
                    {...{
                        country,
                        countryCode,
                        withFilter,
                        // excludeCountries: ['FR'],
                        withFlag,
                        // withCurrencyButton,
                        // withCallingCodeButton,
                        withCountryNameButton,
                        withAlphaFilter,
                        withCallingCode,
                        // withCurrency,
                        withEmoji,
                        withModal,
                        withFlagButton,
                        onSelect,
                        // disableNativeModal,
                        preferredCountries: ['GB'],
                        modalProps: {
                            visible,
                        },
                        onClose: () => {
                            setVisible(false)
                            onBlur()
                        },
                        onOpen: () => {
                            setVisible(true)
                            // setCountryCode()
                        },
                    }
                    }
                />
            &lt;/ScrollView>

        &lt;/View>
    )
}

export default MyCountryPicker;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="App.html">App</a></li></ul><h3>Classes</h3><ul><li><a href="DeletedUserError.html">DeletedUserError</a></li></ul><h3>Global</h3><ul><li><a href="global.html#AboutRoadysScreen">AboutRoadysScreen</a></li><li><a href="global.html#capitalizeFirstLetter">capitalizeFirstLetter</a></li><li><a href="global.html#EditProfileScreen">EditProfileScreen</a></li><li><a href="global.html#FeedbackScreen">FeedbackScreen</a></li><li><a href="global.html#ImageReader">ImageReader</a></li><li><a href="global.html#isCloseToBottom">isCloseToBottom</a></li><li><a href="global.html#Loader">Loader</a></li><li><a href="global.html#LoadingModal">LoadingModal</a></li><li><a href="global.html#Map">Map</a></li><li><a href="global.html#MarkerCard">MarkerCard</a></li><li><a href="global.html#MoreCriteriaScreen">MoreCriteriaScreen</a></li><li><a href="global.html#MyCountryPicker">MyCountryPicker</a></li><li><a href="global.html#MyPicker">MyPicker</a></li><li><a href="global.html#MyRangeSlider">MyRangeSlider</a></li><li><a href="global.html#MySearchBar">MySearchBar</a></li><li><a href="global.html#PartnerScreen">PartnerScreen</a></li><li><a href="global.html#ProfileCard">ProfileCard</a></li><li><a href="global.html#ProfileScreen">ProfileScreen</a></li><li><a href="global.html#SettingsScreen">SettingsScreen</a></li><li><a href="global.html#SignalUser">SignalUser</a></li><li><a href="global.html#SigninScreen">SigninScreen</a></li><li><a href="global.html#SignupScreen">SignupScreen</a></li><li><a href="global.html#TermsAndConditions">TermsAndConditions</a></li><li><a href="global.html#UserProfileScreen">UserProfileScreen</a></li><li><a href="global.html#WelcomeScreen">WelcomeScreen</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.11</a> on Fri Sep 09 2022 20:07:53 GMT+0200 (Central European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
